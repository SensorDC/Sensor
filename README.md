&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;![figure](https://github.com/SensorDC/Sensor/blob/master/Sensor%20logo2.png)

# Project description

Sensor is a Maven plugin aims to detect the dependency conflict issues that arise from referencing the APIs with identical method signatures but inconsistent behaviors across multiple library versions.

Homepage: https://sensordc.github.io

# Background 

Building software projects on top of third-party libraries is a common practice to save development cost and improve software quality.
However, the heavy dependencies on third-party libraries often induce dependency conflict issues. 
When multiple versions of the same library class are present on the classpath, the Java class loader will load only one version and shadow the others. 
If the loaded version has inconsistent implementations with the intended but shadowed versions, dependency conflict issues will occur, inducing risks of runtime exceptions or unexpected program behaviors.


# How Sensor works

We give an illustrative example to describe how Sensor works. As shown in Fig.1, client project directly depends on **a-1.0.jar**, **b-2.0.jar**, and libraries **b-1.0** are transitively introduced by **a-1.0.jar**. In such scenario, there are two versions of library **b** in this project. 
According to Maven’s _nearest wins strategy_, only **b-2.0.jar** can be loaded. By analyzing the dependencies, API **_SevConfig.getSize()_** defined in library **b-1.0** is referenced by the client project via **a-1.0.jar**, which is unfortunately shadowed. Instead, **_SevConfig.getSize()_** defined in **b-2.0.jar** will be referenced. 
Although there will be no runtime exceptions in this case, the semantic inconsistencies between **_SevConfig.getSize()_* in **b-1.0.jar** and **b-2.0.jar** will inappropriately affect the program behaviors of client project.
Sensor can detect such issues caused by two APIs with identical signature but semantically inconsistent implementations across conflicting library version. The dependency issue report generated by Sensor is described in Fig.2.

![example1](https://raw.githubusercontent.com/SensorDC/Sensor/master/example1.jpg)

​																Figure 1 An illustrative example

![example2](https://raw.githubusercontent.com/SensorDC/Sensor/master/example2.jpg)

​											Figure 2 Dependency issue report generated by Sensor

```java
@Test(timeout = 4000)
public void test0() throws Throwable {
  Client client0 = null;
  try {
    cilent0 = new Client("DM7MPDx");
    fail("Expecting exception: NullPointerException");
  } catch(NullPointerException e){
  }
}
```

​									(a) A test generated for triggering SevConfig.getSize() by RIDDLE

```java
@Test(timeout = 4000)
public void test0() throws Throwable {
  Client client0 = new Client("AWS-size");;
  int int0 = client0.onStart();
  System.out.println(int0);
}
```

​									(a) A test generated for triggering SevConfig.getSize() by SENSOR

```java
Client.onStart() OutCome
1
```

​																					B-1.0.jar

```java
Client.onStart() OutCome
0
```

​																					B-2.0.jar

# License

Sensor is released under the MIT License.

# Environment

Mac or Linux operating system & JDK 1.8 & maven-3.6.0

# Reference

This project references the open source projects Soot, Apache Commons CSV, DOM4J.

# Contact author

wangying@swc.neu.edu.cn
