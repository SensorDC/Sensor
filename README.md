![figure](https://github.com/SensorDC/Sensor/blob/master/Sensor%20logo2.png)

# Project description

Sensor is Maven plugin which detects the dependency conflict issues that arise from referencing those APIs with identical method signatures but inconsistent behaviors across multiple library versions.

HomePage: https://sensordc.github.io

# Background 

Building software projects on top of third-party libraries is a common practice to save development cost and improve software quality.
However, the heavy dependencies on third-party libraries often induce dependency conflict issues. 
When multiple versions of the same library class are present on the classpath, the Java class loader will load only one version and shadow the others. 
If the loaded version has inconsistent implementations with the intended but shadowed versions, dependency conflict issues will occur, inducing risks of runtime exceptions or unexpected program behaviors.


# A quick example

We give an illustrative example code to describe how Sensor generates issue reports. As shown in Fig.1, host project directly depends on **a-1.0.jar**, **b-2.0.jar**, and libraries **b-1.0** are transitively introduced by **a-1.0.jar**. So that there are two versions of libraries **b** and **c** in the system. According to Maven’s nearest wins strategy, Maven chooses the version that appears at the nearest to the root (host project) of the dependency tree if there are multiple versions of the same library. In this case, only **b-2.0.jar** can be loaded. By analyzing the dependencies, methods **method_b()** (defined in library **b**) are referenced by host project. Actually, **method_b()** (defined in **b-2.0.jar**) and will be loaded, and **method_b()** (defined in **b-1.0.jar**) will be shadowed. For the dependency conflict issues, based on the above definition, Sensor can detect the semantic behavior difference caused by two methods with the same signature on the conflict dependency. The dependency issue report generated by Sensor is described in Fig.2.

![example1](https://raw.githubusercontent.com/SensorDC/Sensor/master/example1.jpg)

​																Figure 1 An illustrative example

![example2](https://raw.githubusercontent.com/SensorDC/Sensor/master/example2.jpg)

​											Figure 2 Dependency issue report generated by Sensor

```java
@Test(timeout = 4000)
public void test0() throws Throwable {
  Client client0 = null;
  try {
    cilent0 = new Client("DM7MPDx");
    fail("Expecting exception: NullPointerException");
  } catch(NullPointerException e){
  }
}
```

​									(a) A test generated for triggering SevConfig.getSize() by RIDDLE

```java
@Test(timeout = 4000)
public void test0() throws Throwable {
  Client client0 = new Client("AWS-size");;
  int int0 = client0.onStart();
  System.out.println(int0);
}
```

​									(a) A test generated for triggering SevConfig.getSize() by SENSOR

```java
Client.onStart() OutCome
1
```

​																					B-1.0.jar

```java
Client.onStart() OutCome
0
```

​																					B-2.0.jar

# License

Sensor is released under the MIT License.

# Environment

Mac or Linux operating system & JDK 1.8 & maven-3.6.0

# Reference

This project references the open source projects Soot, Apache Commons CSV, DOM4J.

# Contact author

wangying8052@163.com
